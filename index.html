<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="../index/index.css">
</head>

<body>
    <section id="wrap">
        <header id="head">
            <div class="headMain">
                <h1 class="logo">
                    <a href="#"><img src="../img/logo-public.png" alt=""></a>
                </h1>
                <!-- <div class="music">
                    <audio src="../img/lnd.mp3" loop autoplay></audio>
                </div> -->
                <nav class="nav">
                    <ul class="list clearfix">
                        <li>
                            <a href="#">
                                <div class="up"><img src="" alt="">home</div>
                                <div class="down"><img src="" alt="">home</div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="up">course</div>
                                <div class="down">course</div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="up">works</div>
                                <div class="down">works</div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="up">about</div>
                                <div class="down">about</div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="up">team</div>
                                <div class="down">team</div>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="arrow"></div>
            </div>
        </header>
        <section id="content">
            <ul class="list">
                <li class="home">
                    <section>
                        <ul class="home1">
                            <li class="commonTitle active">
                                <!-- <div class="item"> -->
                                <a href="https://lpl.qq.com/act/a20210521champion/index.html?e_code=500130"><img src="../img/one.jpeg" alt=""></a>
                                <!-- </div> -->
                            </li>
                            <li class="commonTitle">
                                <!-- <div class="item"> -->
                                <a href="https://lol.qq.com/act/a20210514arcana/index.html?e_code=500131"><img src="../img/two.jpeg" alt=""></a>
                                </div>
                            </li>
                            <li class="commonTitle">
                                <!-- <div class="item"> -->
                                <a href="https://lolriotmall.qq.com/list.shtml?ADTAG=lolriotmall.pc.lolgw.ad&e_code=500134&tagid=406"><img src="../img/three.jpeg" alt=""></a>
                                <!-- </div> -->
                            </li>
                            <li class="commonTitle">
                                <!-- <div class="item"> -->
                                <a href="https://lol.qq.com/act/a20210430msipass/index.html?e_code=500132"><img src="../img/four.jpeg" alt=""></a>
                                <!-- </div> -->
                            </li>
                        </ul>
                        <ul class="home2">
                            <li class="active"></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </section>
                </li>
                <li class="course">
                    <section>
                        <header class="course1 commonTitle">
                            <span>CHINA</span> <br>
                            <span>AMERICA</span> <br>
                            <span>CANADA</span> <br>
                        </header>
                        <div class="course2 commonText">
                            <p>aaaaaaaaaaa</p><br>
                            <p>bbbbbbbbbbb</p>
                        </div>
                        <div class="course3">
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                            <div class="item">
                                <div class="backFace"></div>
                                <div class="face">测试文字</div>
                            </div>
                        </div>
                        <div class="plane1"></div>
                        <div class="plane2"></div>
                        <div class="plane3"></div>
                    </section>
                </li>
                <li class="works">
                    <section>
                        <header class="works1 commonTitle">
                            <span>CHINA</span><br>
                            <span>AMERICA</span><br>
                            <span>CANADA</span><br>
                        </header>
                        <div class="works2">
                            <div class="item">
                                <img src="../img/LeeSin.png" alt="">
                                <div class="mask">
                                    <span>测试文字</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="" alt="">
                                <div class="mask">
                                    <span>测试文字</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="" alt="">
                                <div class="mask">
                                    <span>测试文字</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                            <div class="item">
                                <img src="" alt="">
                                <div class="mask">
                                    <span>测试文字</span>
                                    <div class="icon"></div>
                                </div>
                            </div>
                        </div>
                        <div class="works3"></div>
                        <div class="pencel1"></div>
                        <div class="pencel2"></div>
                        <div class="pencel3"></div>
                    </section>
                </li>
                <li class="about">
                    <section>
                        <header class="about1 commonTitle">
                            <span>CHINA</span><br>
                            <span>AMERICA</span><br>
                            <span>CANADA</span><br>
                        </header>
                        <div class="about2 commonTxet">
                            <p class="commonTxet">淼字的意思:淼，又作缥缈的“渺”，本义为水大的样子。《楚辞·九章·哀郢》中有记载“淼南渡之焉如”，大水茫无边际，渡江南来究竟要往何方？这里的淼意为大水。除此以外，淼还多表示姓名和地名，如江苏淼泉。</p>
                        </div>
                        <div class="about3">
                            <div class="item">
                                <span></span>
                                <ul data-src="../img/0001.jpg"></ul>
                            </div>
                            <div class="item">
                                <span></span>
                                <ul data-src="../img/0002.jpg"></ul>
                            </div>
                        </div>
                        <div class="about4"></div>
                    </section>
                </li>
                <li class="team">
                    <section>
                        <header class="team1 commonTitle">
                            <span>CHINA</span><br>
                            <span>AMERICA</span><br>
                        </header>
                        <div class="team2">
                            <p class="commonText">aaaaa</p>
                            <p class="commonText">aaaa</p>
                        </div>
                        <div class="team3">
                            <ul>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </div>
                    </section>
                </li>
            </ul>
            <ul class="dot">
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </section>
    </section>
</body>
<script type="text/javascript">
    window.onload = function() {
        //获取DOM元素
        var arrowE1 = document.querySelector("#head .headMain > .arrow");
        var liNodes = document.querySelectorAll("#head .headMain > .nav > .list > li");
        var upNodes = document.querySelectorAll("#head .headMain > .nav > .list > li .up");
        var firstLiNode = liNodes[0];
        var firstUpNode = firstLiNode.querySelector(".up");
        var head = document.querySelector("#head");
        var content = document.querySelector("#content");
        var cLiNodes = document.querySelectorAll("#content .list > li");
        var cList = document.querySelector("#content .list");
        var now = 0;
        var timer = 0;
        var home2LiNodes = document.querySelectorAll("#content > .list > .home .home2 > li");
        var home1LiNodes = document.querySelectorAll("#content > .list > .home .home1 > li");
        var home1 = document.querySelector("#content > .list > .home .home1");
        var oldIndex = 0;
        var timer3D = 0;
        var autoIndex = 0;
        var aboutUls = document.querySelectorAll("#content > .list > .about .about3 > .item > ul");
        var dotLis = document.querySelectorAll("#content > .dot > li");
        var team3 = document.querySelector("#content > .list >.team .team3")
        var team3Ul = document.querySelector("#content > .list >.team .team3 ul");
        var team3Lis = document.querySelectorAll("#content > .list >.team .team3 ul > li");
        var preIndex = 0;
        var music = document.querySelector("#head > .headMain .music");
        var audio = document.querySelector("#head > .headMain .music audio");
        //音频
        // music.onclick = function() {
        //         if (audio.paused) {
        //             audio.play();
        //             music.style.background = "url()";
        //         } else {
        //             audio.paused();
        //             music.style.background = "url()";
        //         }
        //     }
        //出入场
        var anArr = [{
            inAn: function() {
                var home1 = document.querySelector("#content > .list > .home .home1");
                var home2 = document.querySelector("#content > .list > .home .home2");
                home1.style.transform = "translateY(0px)";
                home2.style.transform = "translateY(0px)";
                home1.style.opacity = 1;
                home2.style.opacity = 1;
            },
            outAn: function() {
                var home1 = document.querySelector("#content > .list > .home .home1");
                var home2 = document.querySelector("#content > .list > .home .home2");
                home1.style.transform = "translateY(-400px)";
                home2.style.transform = "translateY(100px)";
                home1.style.opacity = 0;
                home2.style.opacity = 0;
            }
        }, {
            inAn: function() {
                var plane1 = document.querySelector("#content .course .plane1");
                var plane2 = document.querySelector("#content .course .plane2");
                var plane3 = document.querySelector("#content .course .plane3");
                plane1.style.transform = "translate(0px,0px)";
                plane2.style.transform = "translate(0px,0px)";
                plane3.style.transform = "translate(0px,0px)";
            },
            outAn: function() {
                var plane1 = document.querySelector("#content .course .plane1");
                var plane2 = document.querySelector("#content .course .plane2");
                var plane3 = document.querySelector("#content .course .plane3");
                plane1.style.transform = "translate(-200px,-200px)";
                plane2.style.transform = "translate(-200px,200px)";
                plane3.style.transform = "translate(200px,-200px)";
            }
        }, {
            inAn: function() {
                var pencel1 = document.querySelector("#content .works .pencel1");
                var pencel2 = document.querySelector("#content .works .pencel2");
                var pencel3 = document.querySelector("#content .works .pencel3");
                pencel1.style.transform = "translateY(0px)";
                pencel2.style.transform = "translateY(0px)";
                pencel3.style.transform = "translateY(0px)";
            },
            outAn: function() {
                var pencel1 = document.querySelector("#content .works .pencel1");
                var pencel2 = document.querySelector("#content .works .pencel2");
                var pencel3 = document.querySelector("#content .works .pencel3");
                pencel1.style.transform = "translateY(-200px)";
                pencel2.style.transform = "translateY(200px)";
                pencel3.style.transform = "translateY(200px)";
            }
        }, {
            inAn: function() {
                var rect1 = document.querySelector("#content > .list > .about .about3 > .item:nth-child(1)");
                var rect2 = document.querySelector("#content > .list > .about .about3 > .item:nth-child(2)");
                rect1.style.transform = "rotate(0deg)";
                rect2.style.transform = "rotate(0deg)";
            },
            outAn: function() {
                var rect1 = document.querySelector("#content > .list > .about .about3 > .item:nth-child(1)");
                var rect2 = document.querySelector("#content > .list > .about .about3 > .item:nth-child(2)");
                rect1.style.transform = "rotate(45deg)";
                rect2.style.transform = "rotate(-45deg)";
            }
        }, {
            inAn: function() {
                var rect1 = document.querySelector("#content > .list > .team .team1");
                var rect2 = document.querySelector("#content > .list > .team .team2");
                rect1.style.transform = "translateX(0px)";
                rect2.style.transform = "translateX(0px)";
            },
            outAn: function() {
                var rect1 = document.querySelector("#content > .list > .team .team1");
                var rect2 = document.querySelector("#content > .list > .team .team2");
                rect1.style.transform = "translateX(-200px)";
                rect2.style.transform = "translateX(200px)";
            }
        }, ]
        for (var i = 0; i < anArr.length; i++) {
            anArr[i]["outAn"]();
        }
        setTimeout(function() {
                anArr[0].inAn();
            }, 2000)
            //测试
            // anArr[4].outAn();
            // setTimeout(function() {
            //     anArr[4].inAn();
            // },2000)

        window.onresize = function() {
            contentBind();
            cList.style.top = -now * (document.documentElement.clientHeight - head.offsetHeight) + "px";
            // arrowE1.style.left = liNodes[now].offsetLeft + liNodes[now].offsetWidth/2 - arrowE1.offsetWidth/2 + "px";
        }

        //头部交互
        headBind();

        function headBind() {
            firstUpNode.style.width = "100%";
            arrowE1.style.left = firstLiNode.offsetLeft + firstLiNode.offsetWidth / 2 - arrowE1.offsetWidth / 2 + "px";
            for (var i = 0; i < liNodes.length; i++) {
                liNodes[i].index = i;
                liNodes[i].onclick = function() {
                    preIndex = now;
                    move(this.index);
                    now = this.index;
                }
            }
            for (var i = 0; i < dotLis.length; i++) {
                dotLis[i].index = i;
                dotLis[i].onclick = function() {
                    preIndex = now;
                    move(this.index);
                    now = this.index;
                }
            }
        }
        // move(0);
        function move(index) {
            for (var i = 0; i < upNodes.length; i++) {
                upNodes[i].style.width = "";
            }
            upNodes[index].style.width = "100%";
            arrowE1.style.left = liNodes[index].offsetLeft + liNodes[index].offsetWidth / 2 - arrowE1.offsetWidth / 2 + "px";
            cList.style.top = -index * (document.documentElement.clientHeight - head.offsetHeight) + "px";

            for (var i = 0; i < dotLis.length; i++) {
                dotLis[i].className = "";
            }
            dotLis[index].className = "active";
            //出入场
            if (anArr[index] && typeof anArr[index]["inAn"] == "function") {
                anArr[index]["inAn"]();
            }
            if (anArr[preIndex] && typeof anArr[preIndex]["inAn"] == "function") {
                anArr[preIndex]["outAn"]();
            }
        }
        //内容区交互
        if (content.addEventListener) {
            content.addEventListener("DOMMouseScroll", function(ev) {
                ev = ev || event;
                clearTimeout(timer);
                timer = setTimeout(function() {
                    fn(ev);
                }, 200)
            });
        }
        content.onmousewheel = function(ev) {
            ev = ev || event;
            clearTimeout(timer);
            timer = setTimeout(function() {
                fn(ev);
            }, 200)
        };

        function fn(ev) {
            ev = ev || event;
            var dir = "";
            if (ev.wheelDelta) {
                dir = ev.wheelDelta > 0 ? "up" : "down";
            } else if (ev.detail) {
                dir = ev.wheelDelta < 0 ? "up" : "down";
            }
            preIndex = now;
            switch (dir) {
                case "up":
                    if (now > 0) {
                        now--;
                        move(now);
                    }
                    break;
                case "down":
                    if (now < cLiNodes.length) {
                        now++;
                        move(now);
                    }
                    break;
            }
        }
        contentBind();

        function contentBind() {
            content.style.height = document.documentElement.clientHeight - head.offsetHeight + "px";
            for (var i = 0; i < cLiNodes.length; i++) {
                cLiNodes[i].style.height = document.documentElement.clientHeight - head.offsetHeight + "px";
            }
        }
        // 第一屏的3d效果
        home3D();

        function home3D() {
            for (var i = 0; i < home2LiNodes.length; i++) {
                home2LiNodes[i].index = i;
                home2LiNodes[i].onclick = function() {
                    clearInterval(timer3D);
                    for (var i = 0; i < home2LiNodes.length; i++) {
                        home2LiNodes[i].classList.remove("active");
                    }
                    this.classList.add("active");
                    //从左往右 当前索引大于上次索引
                    if (this.index > oldIndex) {
                        home1LiNodes[this.index].classList.remove("rightHide");
                        home1LiNodes[this.index].classList.remove("leftHide");
                        home1LiNodes[this.index].classList.remove("leftShow");
                        home1LiNodes[this.index].classList.add("rightShow");
                        home1LiNodes[oldIndex].classList.remove("rightHide");
                        home1LiNodes[oldIndex].classList.remove("rightShow");
                        home1LiNodes[oldIndex].classList.remove("leftShow");
                        home1LiNodes[oldIndex].classList.add("leftHide");
                    }
                    //从右往左 当前索引小于上次索引
                    if (this.index < oldIndex) {
                        home1LiNodes[this.index].classList.remove("rightHide");
                        home1LiNodes[this.index].classList.remove("leftHide");
                        home1LiNodes[this.index].classList.remove("rightShow");
                        home1LiNodes[this.index].classList.add("leftShow");
                        home1LiNodes[oldIndex].classList.remove("leftHide");
                        home1LiNodes[oldIndex].classList.remove("rightShow");
                        home1LiNodes[oldIndex].classList.remove("leftShow");
                        home1LiNodes[oldIndex].classList.add("rightHide");
                    }

                    oldIndex = this.index;
                    autoIndex = this.index;
                    move();
                }
            }
            //自动轮播图
            move();

            function move() {
                clearInterval(timer3D);
                timer3D = setInterval(function() {
                    autoIndex++;
                    if (autoIndex == home1LiNodes.length) {
                        autoIndex = 0;
                    }
                    for (var i = 0; i < home2LiNodes.length; i++) {
                        home2LiNodes[i].classList.remove("active");
                    }
                    home2LiNodes[autoIndex].classList.add("active");
                    home1LiNodes[autoIndex].classList.remove("rightHide");
                    home1LiNodes[autoIndex].classList.remove("leftHide");
                    home1LiNodes[autoIndex].classList.remove("leftShow");
                    home1LiNodes[autoIndex].classList.add("rightShow");
                    home1LiNodes[oldIndex].classList.remove("rightHide");
                    home1LiNodes[oldIndex].classList.remove("rightShow");
                    home1LiNodes[oldIndex].classList.remove("leftShow");
                    home1LiNodes[oldIndex].classList.add("leftHide");
                    oldIndex = autoIndex;
                }, 3000);
            }
            home1.onmouseenter = function() {
                clearInterval(timer3D);
            };
            home1.onmouseleave = function() {
                move();
            }
        }
        //第四屏
        picBoom();

        function picBoom() {
            for (var i = 0; i < aboutUls.length; i++) {
                change(aboutUls[i]);
            }

            function change(UL) {
                var src = UL.dataset.src;
                var w = UL.offsetWidth / 2;
                var h = UL.offsetHeight / 2;
                for (var i = 0; i < 4; i++) {
                    UL.flag = i;
                    var liNode = document.createElement("li");
                    liNode.style.width = w + "px";
                    liNode.style.height = h + "px";
                    var imgNode = document.createElement("img");
                    imgNode.style.left = -(i % 2) * w + "px";
                    imgNode.style.top = -Math.floor(i / 2) * h + "px";
                    imgNode.src = src;
                    liNode.appendChild(imgNode);
                    UL.appendChild(liNode);
                }
                // var imgNodes = document.querySelectorAll("#content > .list > .about .about3 > .item > ul > li > img");
                UL.onmouseenter = function() {
                    var imgNodes = this.querySelectorAll("li > img");
                    imgNodes[0].style.top = h + "px";
                    imgNodes[1].style.left = -2 * w + "px";
                    imgNodes[2].style.left = w + "px";
                    imgNodes[3].style.top = -2 * h + "px";

                }
                UL.onmouseleave = function() {
                    var imgNodes = this.querySelectorAll("li > img");
                    imgNodes[0].style.top = 0 + "px";
                    imgNodes[1].style.left = -w + "px";
                    imgNodes[2].style.left = 0 + "px";
                    imgNodes[3].style.top = -h + "px";
                }
            }
        }
        // 第五屏
        biubiu();

        function biubiu() {
            var oc = null;
            for (var i = 0; i < team3Lis.length; i++) {
                team3Lis[i].onmouseenter = function() {
                    for (var i = 0; i < team3Lis.length; i++) {
                        team3Lis[i].style.opacity = 0.5;
                    }
                    this.style.opacity = 1;
                    addCanvas();
                    oc.style.left = this.offsetLeft + "px";
                }
            }

            function addCanvas() {
                if (!oc) {
                    oc = document.createElement("canvas");
                    oc.width = team3Lis[0].offsetWidth;
                    oc.height = team3Lis[0].offsetHeight * 2 / 3;
                    oc.onmouseleave = function() {
                        for (var i = 0; i < team3Lis.length; i++) {
                            team3Lis[i].style.opacity = 1;
                        }
                        removeCanvas();
                    }

                    team3.appendChild(oc);
                    qiPao();
                }
            }

            function removeCanvas() {
                oc.remove();
                oc = null;
            }

            function qiPao() {

            }
        }
    }
</script>
<script src="../index/part.js"></script>

</html>